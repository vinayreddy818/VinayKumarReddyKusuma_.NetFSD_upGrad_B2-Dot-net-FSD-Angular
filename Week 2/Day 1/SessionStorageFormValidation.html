<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
 <h2>Registration Form</h2>

Name: <input type="text" id="name" onchange="validate()"><label id="nameValid" style="color: red;"></label><br><br>
Email: <input type="text" id="email" onchange="validate()"><label id="emailValid" style="color: red;"></label><br><br>
Age: <input type="number" id="age" onchange="validate()"><label id="ageValid" style="color: red;"></label><br><br>

<button onclick="submitForm()">Submit</button>

<p id="message" style="color:red;"></p>

<script>

function validate() {
    let name = document.getElementById("name").value;
    let email = document.getElementById("email").value;
    let age = document.getElementById("age").value;
    let message = document.getElementById("message");
    document.getElementById("nameValid").innerHTML = "";
    document.getElementById("emailValid").innerHTML = "";
    document.getElementById("ageValid").innerHTML = "";

    if (name === "") {
        document.getElementById("nameValid").innerHTML = "Name cannot be empty";
        return false;
    }

    if (!email.includes("@")) {
        document.getElementById("emailValid").innerHTML = "Email is Invalid must contain @";
        return false;
    }

    if (age <= 18) {
        document.getElementById("ageValid").innerHTML = "Age must be greater than 18";
        return false;
    }

    message.innerHTML = "All fields are valid!";
    message.style.color = "green";
    return true;
}

function submitForm() {
    if (validate()) {
        let userData = {
            name: document.getElementById("name").value,
            email: document.getElementById("email").value,
            age: document.getElementById("age").value
        };

        sessionStorage.setItem("user", JSON.stringify(userData));
        alert("Data Stored in sessionStorage");
    }
}

</script>   
</body>
</html>

